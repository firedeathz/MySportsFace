<% provide(:title, 'Sign up') %>
<h1>Join the MySportsFace community</h1>

<div class="row">
	<div class="col-md-6 col-md-offset-3">
		<%= bootstrap_form_for(@user, inline_errors: false) do |f| %>
			<%= render 'shared/error_messages', object: f.object %>

			<%= f.text_field :name, id: "username-input", :autofocus => "true" %>

			<%= f.email_field :email, id: "email-input" %>

			<%= f.password_field :password, id: "pass-input", label: "Password (minimum length: 8)" %>

			<%= f.password_field :password_confirmation %>

			<%= f.submit "Create", class: "btn btn-primary" %>
		<% end %>
	</div>
</div>

<script type="text/javascript">
	var username_ok = false;
	
	$(document).ready(function() {
		$("#username-input").change(function() {
			$("#username-input").parent().find("#icon-remove").remove();
			$("#username-input").parent().find("#icon-ok").remove();
			if($("#username-input").val().length > 0) {
				$("#username-input").parent().attr("class", "has-feedback has-success");
				$("#username-input").parent().append("<span class='glyphicon glyphicon-ok form-control-feedback' id='icon-ok'></span>");
			}
			else {
				$("#username-input").parent().attr("class", "has-feedback has-error");
				$("#username-input").parent().append("<span class='glyphicon glyphicon-remove form-control-feedback' id='icon-remove'></span>");
			}
		});
		
		$("#email-input").change(function() {
			$("#email-input").parent().find("#icon-remove").remove();
			$("#email-input").parent().find("#icon-ok").remove();
			if($("#email-input").val().length > 0) {
				$("#email-input").parent().attr("class", "has-feedback has-success");
				$("#email-input").parent().append("<span class='glyphicon glyphicon-ok form-control-feedback' id='icon-ok'></span>");
			}
			else {
				$("#email-input").parent().attr("class", "has-feedback has-error");
				$("#email-input").parent().append("<span class='glyphicon glyphicon-remove form-control-feedback' id='icon-remove'></span>");
			}
		});
		
		$("#pass-input").change(function() {
			$("#pass-input").parent().find("#icon-remove").remove();
			$("#pass-input").parent().find("#icon-ok").remove();
			if($("#pass-input").val().length > 7) {
				$("#pass-input").parent().attr("class", "has-feedback has-success");
				$("#pass-input").parent().append("<span class='glyphicon glyphicon-ok form-control-feedback' id='icon-ok'></span>");
			}
			else {
				$("#pass-input").parent().attr("class", "has-feedback has-error");
				$("#pass-input").parent().append("<span class='glyphicon glyphicon-remove form-control-feedback' id='icon-remove'></span>");
			}
		});
	});
</script>